# Read value of DMControl
r 00000000 @10 -> + 00000000 @00
- 00000000 @00 -> + 00000000 @10

# Write 1 to dmactive to put Hart in known state and read result.
w 00000001 @10 -> + 00000000 @00
- 00000000 @00 -> + 00000000 @10

# Read DMControl to see if writing DMActive took effect.
r 00000000 @10 -> + 00000000 @00
- 00000000 @00 -> + 00000001 @10

# Write the following to DMControl to see what features the debug module has.
w 07ffffc1 @10 -> + 00000001 @00
- 00000000 @00 -> + 00000001 @10
r 00000000 @10 -> + 00000001 @00
- 00000000 @00 -> + 00000001 @10
w 00000001 @10 -> + 00000001 @00
- 00000000 @00 -> + 00000001 @10

# Read DMStatus
r 00000000 @11 -> + 00000001 @00
- 00000000 @00 -> + 00030c83 @11
r 00000000 @11 -> + 00030c83 @00
- 00000000 @00 -> + 00030c83 @11

# Read HartInfo
r 00000000 @12 -> + 00030c83 @00
- 00000000 @00 -> + 00000000 @12

# Read unimplemented sbcs register
r 00000000 @38 -> + 00000000 @00
- 00000000 @00 -> + 00000000 @38

# Read AbstractCS
r 00000000 @16 -> + 00000000 @00
- 00000000 @00 -> + 00000001 @16

# Read DMStatus
r 00000000 @11 -> + 00000001 @00
- 00000000 @00 -> + 00030c83 @11

# Write HaltReq
w 80000001 @10 -> + 00030c83 @00
- 00000000 @00 -> + 00030c83 @10
# Read DMStatus to see if an error occurred.
r 00000000 @11 -> + 00030c83 @00
- 00000000 @00 -> + 00000383 @11
# Deassert HaltReq
w 00000001 @10 -> + 00000383 @00
- 00000000 @00 -> + 00000383 @10

# Write the first abstract command, assuming 64 bits is possible.
w 00321008 @17 -> + 00000383 @00
# Determine that 64 bits is not possible. All future commands have aarsize = 3'd2
r 00000000 @16 -> + 00000383 @17
- 00000000 @00 -> + 00000201 @16

# Clear error bits in AbstractCS
w 00000700 @16 -> + 00000201 @00
- 00000000 @00 -> + 00000201 @16

# Write the next command. Read from MISA
w 00220301 @17 -> + 00000201 @00
# Check AbstractCS
r 00000000 @16 -> + 00000201 @17
- 00000000 @00 -> + 00000001 @16
# Read Data0 for result
r 00000000 @04 -> + 00000001 @00
- 00000000 @00 -> + 4014112f @04

# Read MSTATUS
w 00220300 @17 -> + 4014112f @00
r 00000000 @16 -> + 4014112f @17
- 00000000 @00 -> + 00000001 @16
r 00000000 @04 -> + 00000001 @00
- 00000000 @00 -> + 00000000 @04

# Write a value to MSTATUS
w 00000200 @04 -> + 00000000 @00
w 00230300 @17 -> + 00000000 @04
r 00000000 @16 -> + 00000000 @17
- 00000000 @00 -> + 00000001 @16

# Read whatever CSR c22 is
w 00220c22 @17 -> + 00000001 @00
r 00000000 @16 -> + 00000001 @17
- 00000000 @00 -> + 00000301 @16
w 00000700 @16 -> + 00000301 @00
- 00000000 @00 -> + 00000301 @16

# Read register x8
w 00221008 @17 -> + 00000301 @00
r 00000000 @16 -> + 00000301 @17
- 00000000 @00 -> + 00000001 @16
r 00000000 @04 -> + 00000001 @00
- 00000000 @00 -> + 00000000 @04

# Write zero to MSTATUS
w 00000000 @04 -> + 00000000 @00
w 00230300 @17 -> + 00000000 @04
r 00000000 @16 -> + 00000000 @17
- 00000000 @00 -> + 00000001 @16

# Read DCSR
w 00220fb0 @17 -> + 00000001 @00
r 00000000 @16 -> + 00000001 @17
- 00000000 @00 -> + 00000301 @16
w 00000700 @16 -> + 00000301 @00
- 00000000 @00 -> + 00000301 @16
w 002207b0 @17 -> + 00000301 @00
r 00000000 @16 -> + 00000301 @17
- 00000000 @00 -> + 00000001 @16
r 00000000 @04 -> + 00000001 @00
- 00000000 @00 -> + 400000c3 @04

# Write something to DCSR
w 4003b0c3 @04 -> + 400000c3 @00
w 002307b0 @17 -> + 400000c3 @04
r 00000000 @16 -> + 400000c3 @17
- 00000000 @00 -> + 00000001 @16

# Write to register x8
# w 00000000 @04 -> + 00000001 @00
# w 00231008 @17 -> + 00000001 @04
# r 00000000 @16 -> + 00000001 @17
# - 00000000 @00 -> + 00000001 @16

# Resume the hart
w 40000001 @10 -> + 00000001 @00
- 00000000 @00 -> + 00000001 @10
r 00000000 @11 -> + 00000001 @00
- 00000000 @00 -> + 00030c83 @11
w 00000001 @10 -> + 00030c83 @00
- 00000000 @00 -> + 00030c83 @10
